<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Petualangan Tetes Air - Aktivitas Interaktif</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #87CEEB 0%, #E0F6FF 50%, #98FB98 100%);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        h1 {
            color: #2E86C1;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
        }

        .tab-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .tabs {
            display: flex;
            background: #2E86C1;
            overflow-x: auto;
        }

        .tab {
            padding: 15px 25px;
            background: #2E86C1;
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 1em;
        }

        .tab:hover {
            background: #1B4F72;
        }

        .tab.active {
            background: white;
            color: #2E86C1;
        }

        .tab-content {
            display: none;
            padding: 30px;
            min-height: 500px;
        }

        .tab-content.active {
            display: block;
        }

        .story-text {
            font-size: 1.1em;
            line-height: 1.8;
            color: #333;
            text-align: justify;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            border-left: 5px solid #2E86C1;
        }

        .activity-section {
            margin-bottom: 30px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .activity-title {
            color: #2E86C1;
            font-size: 1.5em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .puzzle-item {
            background: #F8F9FA;
            border: 2px dashed #2E86C1;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .puzzle-item:hover {
            background: #E3F2FD;
            transform: translateY(-2px);
        }

        .puzzle-item.filled {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        .word-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .word-option {
            background: #FFD54F;
            color: #333;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 1em;
        }

        .word-option:hover {
            background: #FFC107;
            transform: scale(1.05);
        }

        .word-option.used {
            background: #E0E0E0;
            color: #999;
            cursor: not-allowed;
        }

        .image-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .image-option {
            background: white;
            border: 3px solid #E0E0E0;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .image-option:hover {
            border-color: #2E86C1;
            transform: translateY(-3px);
        }

        .image-option.selected {
            border-color: #4CAF50;
            background: #E8F5E8;
        }

        .emoji {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .dictionary-section {
            background: #F5F5F5;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .word-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #E0E0E0;
            border-radius: 10px;
            font-size: 1em;
            margin-bottom: 15px;
        }

        .word-input:focus {
            border-color: #2E86C1;
            outline: none;
        }

        .search-btn {
            background: #2E86C1;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s ease;
        }

        .search-btn:hover {
            background: #1B4F72;
        }

        .dictionary-result {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .w5h1-questions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .question-card {
            background: #E3F2FD;
            border-radius: 10px;
            padding: 15px;
        }

        .question-title {
            font-weight: bold;
            color: #1565C0;
            margin-bottom: 8px;
        }

        .sentence-builder {
            background: #FFF3E0;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .sentence-input {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            border: 2px solid #FFB74D;
            border-radius: 10px;
            font-size: 1em;
            resize: vertical;
        }

        .presentation-modes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .presentation-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .presentation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .score-display {
            background: #4CAF50;
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.2em;
            margin-top: 20px;
        }

        .btn {
            background: #FF6B35;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            background: #E55A2B;
            transform: translateY(-2px);
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #E0E0E0;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            width: 0%;
            transition: width 0.3s ease;
        }

        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .puzzle-grid {
                grid-template-columns: 1fr;
            }
            
            .image-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ§ï¸ Petualangan Tetes Air di Langit Biru ğŸŒ¤ï¸</h1>
            <p class="subtitle">Belajar Sambil Bermain dengan Aktivitas Menyenangkan!</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
        </div>

        <div class="tab-container">
            <div class="tabs">
                <button class="tab active" onclick="showTab('story')">ğŸ“– Cerita</button>
                <button class="tab" onclick="showTab('puzzle')">ğŸ§© Puzzle Kata</button>
                <button class="tab" onclick="showTab('guess')">ğŸ¯ Tebak Arti</button>
                <button class="tab" onclick="showTab('dictionary')">ğŸ“š Kamus KBBI</button>
                <button class="tab" onclick="showTab('sentence')">âœï¸ Buat Kalimat</button>
                <button class="tab" onclick="showTab('presentation')">ğŸ¤ Presentasi</button>
            </div>

            <div class="tab-content active" id="story">
                <div class="story-text">
                    <p><strong>Di sebuah kota yang ramai</strong>, hiduplah seorang anak laki-laki bernama Dito. Ia sangat suka membaca dan bertanya tentang banyak hal. Suatu hari, guru sainsnya menjelaskan tentang <em>siklus air</em>. Dito bingung. Bagaimana air bisa naik ke langit, lalu kembali lagi ke bumi sebagai hujan?</p>
                    
                    <p>"Aku ingin melihat sendiri!" gumam Dito. Malam harinya, ia bermimpi. Ia merasa tubuhnya mengecil dan berubah menjadi setetes air di sebuah danau. Di sampingnya, ada ribuan tetes air lain yang juga sedang berpetualang.</p>
                    
                    <p>Matahari mulai bersinar. Panasnya terasa hangat. Dito merasakan tubuhnya semakin ringan dan melayang ke atas. "Wah, kita <em>menguap</em>!" seru Dito. Ia melihat tetes air di sekitarnya juga ikut naik. Mereka bergerak semakin tinggi, melewati gedung-gedung dan pepohonan.</p>
                    
                    <p>Saat di atas, udara menjadi sangat dingin. Dito dan tetes air lainnya mulai berkumpul. Mereka saling menempel, membentuk gumpalan-gumpalan putih yang lembut. "Ini namanya <em>kondensasi</em>!" Dito teringat pelajaran gurunya. Gumpalan-gumpalan itu semakin banyak dan berubah menjadi awan yang besar.</p>
                    
                    <p>Awan itu terus melayang, mengikuti angin. Lalu, Dito merasa tubuhnya semakin berat. Ia tidak bisa lagi menahan diri. "Kita akan jatuh!" pikir Dito. Benar saja, ia dan teman-teman tetes airnya jatuh ke bawah. "Ini <em>presipitasi</em> atau hujan!" Dito berteriak senang. Ia jatuh di sebuah taman, lalu mengalir ke sungai.</p>
                    
                    <p>Di dalam sungai, Dito melihat pemandangan yang menyedihkan. Air sungai kotor dan banyak sampah plastik yang mengapung. Ia melihat sampah-sampah itu menyumbat aliran air, membuat air sungai meluap di beberapa tempat. Dito berpikir kritis. Jika sungai kotor dan tersumbat, apa yang akan terjadi pada siklus air berikutnya? Air yang menguap akan kotor dan udara bisa jadi tidak sehat.</p>
                    
                    <p>Dito terbangun. Ia menatap tetesan air hujan di jendela kamarnya. Ia kini mengerti. Siklus air adalah perjalanan yang luar biasa, tetapi juga rentan. Setiap tetes air yang jatuh ke bumi akan kembali menguap. Jika kita membuang sampah sembarangan dan membuat sungai kotor, kita merusak seluruh siklus.</p>
                    
                    <p>Dito lalu mengambil sebuah kantong plastik besar. Ia mengajak teman-temannya untuk membersihkan sampah di taman dekat sungai. "Siklus air tidak akan berjalan baik jika kita tidak peduli lingkungan," kata Dito. "Kita harus menjaga air tetap bersih agar bumi kita tetap sehat."</p>
                </div>
                <button class="btn" onclick="showTab('puzzle')">Mulai Aktivitas! ğŸš€</button>
            </div>

            <div class="tab-content" id="puzzle">
                <div class="activity-section">
                    <h2 class="activity-title">ğŸ§© Puzzle Kata - Lengkapi Kalimat</h2>
                    <p>Seret kata yang tepat ke tempat yang kosong untuk melengkapi kalimat tentang siklus air!</p>
                    
                    <div class="puzzle-grid" id="puzzleGrid">
                        <div class="puzzle-item" data-answer="evaporasi">
                            Air berubah menjadi uap karena panas matahari disebut...
                        </div>
                        <div class="puzzle-item" data-answer="kondensasi">
                            Uap air berubah menjadi tetes air kecil disebut...
                        </div>
                        <div class="puzzle-item" data-answer="presipitasi">
                            Proses turunnya hujan dari awan disebut...
                        </div>
                        <div class="puzzle-item" data-answer="siklus">
                            Perputaran air dari bumi ke langit disebut... air
                        </div>
                    </div>
                    
                    <div class="word-options">
                        <button class="word-option" onclick="selectWord(this, 'evaporasi')">Evaporasi</button>
                        <button class="word-option" onclick="selectWord(this, 'kondensasi')">Kondensasi</button>
                        <button class="word-option" onclick="selectWord(this, 'presipitasi')">Presipitasi</button>
                        <button class="word-option" onclick="selectWord(this, 'siklus')">Siklus</button>
                    </div>
                    
                    <div class="score-display" id="puzzleScore" style="display: none;">
                        Skor Puzzle: <span id="puzzlePoints">0</span>/100
                    </div>
                </div>
            </div>

            <div class="tab-content" id="guess">
                <div class="activity-section">
                    <h2 class="activity-title">ğŸ¯ Tebak Arti - Pilih Gambar yang Tepat</h2>
                    <p>Pilih gambar yang paling sesuai dengan kata di bawah ini:</p>
                    
                    <div id="guessQuestion">
                        <h3 style="text-align: center; color: #2E86C1; font-size: 2em; margin: 30px 0;" id="currentWord">KONDENSASI</h3>
                        
                        <div class="image-options" id="imageOptions">
                            <div class="image-option" onclick="selectImage(this, true)">
                                <div class="emoji">â˜ï¸</div>
                                <p>Awan terbentuk dari uap</p>
                            </div>
                            <div class="image-option" onclick="selectImage(this, false)">
                                <div class="emoji">ğŸŒŠ</div>
                                <p>Gelombang laut besar</p>
                            </div>
                            <div class="image-option" onclick="selectImage(this, false)">
                                <div class="emoji">âš¡</div>
                                <p>Kilat dan petir</p>
                            </div>
                            <div class="image-option" onclick="selectImage(this, false)">
                                <div class="emoji">ğŸŒªï¸</div>
                                <p>Angin puting beliung</p>
                            </div>
                        </div>
                        
                        <button class="btn" onclick="nextQuestion()" id="nextBtn" style="display: none;">Pertanyaan Selanjutnya</button>
                    </div>
                    
                    <div class="score-display" id="guessScore" style="display: none;">
                        Skor Tebak Arti: <span id="guessPoints">0</span>/100
                    </div>
                </div>
            </div>

            <div class="tab-content" id="dictionary">
                <div class="activity-section">
                    <h2 class="activity-title">ğŸ“š Kamus KBBI - Cari Arti dengan 5W+1H</h2>
                    <p>Masukkan kata sulit dari cerita untuk mencari artinya dan jawab pertanyaan 5W+1H!</p>
                    
                    <input type="text" class="word-input" id="dictionaryInput" placeholder="Masukkan kata sulit (contoh: kondensasi)">
                    <button class="search-btn" onclick="searchDictionary()">ğŸ” Cari di Kamus</button>
                    
                    <div class="dictionary-result" id="dictionaryResult" style="display: none;">
                        <h3 id="searchedWord"></h3>
                        <p id="wordMeaning"></p>
                        
                        <div class="w5h1-questions">
                            <div class="question-card">
                                <div class="question-title">ğŸ¤” What (Apa)?</div>
                                <div id="whatAnswer"></div>
                            </div>
                            <div class="question-card">
                                <div class="question-title">ğŸ‘¥ Who (Siapa)?</div>
                                <div id="whoAnswer"></div>
                            </div>
                            <div class="question-card">
                                <div class="question-title">ğŸ“ Where (Dimana)?</div>
                                <div id="whereAnswer"></div>
                            </div>
                            <div class="question-card">
                                <div class="question-title">â° When (Kapan)?</div>
                                <div id="whenAnswer"></div>
                            </div>
                            <div class="question-card">
                                <div class="question-title">â“ Why (Mengapa)?</div>
                                <div id="whyAnswer"></div>
                            </div>
                            <div class="question-card">
                                <div class="question-title">ğŸ”§ How (Bagaimana)?</div>
                                <div id="howAnswer"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="sentence">
                <div class="activity-section">
                    <h2 class="activity-title">âœï¸ Buat Kalimat dari Kata Sulit</h2>
                    <p>Buatlah kalimat kreatif menggunakan kata-kata sulit yang telah kamu pelajari!</p>
                    
                    <div class="sentence-builder">
                        <h3>Kata-kata yang harus digunakan:</h3>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 15px 0;">
                            <span style="background: #FFE0B2; padding: 5px 10px; border-radius: 15px;">kondensasi</span>
                            <span style="background: #FFE0B2; padding: 5px 10px; border-radius: 15px;">evaporasi</span>
                            <span style="background: #FFE0B2; padding: 5px 10px; border-radius: 15px;">presipitasi</span>
                            <span style="background: #FFE0B2; padding: 5px 10px; border-radius: 15px;">siklus</span>
                        </div>
                        
                        <textarea class="sentence-input" id="sentenceText" placeholder="Tulis kalimat kreatifmu di sini... (minimal gunakan 2 kata dari daftar di atas)"></textarea>
                        
                        <button class="btn" onclick="checkSentence()">âœ… Periksa Kalimat</button>
                        <button class="btn" onclick="saveSentence()" id="saveBtn" style="display: none;">ğŸ’¾ Simpan Kalimat</button>
                        
                        <div id="sentenceResult" style="margin-top: 15px;"></div>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="presentation">
                <div class="activity-section">
                    <h2 class="activity-title">ğŸ¤ Presentasi - Bagikan Pembelajaran Anda</h2>
                    <p>Pilih cara untuk mempresentasikan apa yang sudah kamu pelajari!</p>
                    
                    <div class="presentation-modes">
                        <div class="presentation-card" onclick="showPresentationMode('written')">
                            <div style="font-size: 3em; margin-bottom: 15px;">ğŸ“</div>
                            <h3>Tulisan</h3>
                            <p>Buat laporan tertulis tentang siklus air</p>
                        </div>
                        
                        <div class="presentation-card" onclick="showPresentationMode('oral')">
                            <div style="font-size: 3em; margin-bottom: 15px;">ğŸ™ï¸</div>
                            <h3>Lisan</h3>
                            <p>Rekam presentasi lisan Anda</p>
                        </div>
                        
                        <div class="presentation-card" onclick="showPresentationMode('visual')">
                            <div style="font-size: 3em; margin-bottom: 15px;">ğŸ¨</div>
                            <h3>Visual</h3>
                            <p>Buat poster atau infografik</p>
                        </div>
                        
                        <div class="presentation-card" onclick="showPresentationMode('digital')">
                            <div style="font-size: 3em; margin-bottom: 15px;">ğŸ’»</div>
                            <h3>Digital</h3>
                            <p>Presentasi dengan aplikasi</p>
                        </div>
                    </div>
                    
                    <div id="presentationContent" style="margin-top: 30px;"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentQuestionIndex = 0;
        let guessScore = 0;
        let puzzleScore = 0;
        let completedActivities = 0;
        let selectedPuzzleWord = null;
        let userSentences = [];

        const questions = [
            {
                word: "KONDENSASI",
                options: [
                    { emoji: "â˜ï¸", text: "Awan terbentuk dari uap", correct: true },
                    { emoji: "ğŸŒŠ", text: "Gelombang laut besar", correct: false },
                    { emoji: "âš¡", text: "Kilat dan petir", correct: false },
                    { emoji: "ğŸŒªï¸", text: "Angin puting beliung", correct: false }
                ]
            },
            {
                word: "EVAPORASI",
                options: [
                    { emoji: "ğŸ’¨", text: "Air menguap ke udara", correct: true },
                    { emoji: "ğŸ§Š", text: "Air membeku jadi es", correct: false },
                    { emoji: "ğŸŒˆ", text: "Pelangi setelah hujan", correct: false },
                    { emoji: "ğŸŒ‹", text: "Gunung berapi meletus", correct: false }
                ]
            },
            {
                word: "PRESIPITASI",
                options: [
                    { emoji: "ğŸŒ§ï¸", text: "Hujan turun dari awan", correct: true },
                    { emoji: "ğŸŒ", text: "Matahari bersinar terang", correct: false },
                    { emoji: "ğŸŒ¸", text: "Bunga mekar di taman", correct: false },
                    { emoji: "ğŸ¦‹", text: "Kupu-kupu terbang", correct: false }
                ]
            }
        ];

        const dictionaryData = {
            'kondensasi': {
                meaning: 'Proses perubahan wujud gas (uap air) menjadi cairan (air) karena pendinginan',
                what: 'Proses perubahan wujud dari gas ke cair',
                who: 'Uap air di atmosfer',
                where: 'Di langit, pada ketinggian tertentu',
                when: 'Ketika suhu udara turun dan mencapai titik embun',
                why: 'Karena uap air mengalami pendinginan',
                how: 'Uap air mendingin dan berubah menjadi tetes air kecil'
            },
            'evaporasi': {
                meaning: 'Proses perubahan wujud cair menjadi gas karena pemanasan',
                what: 'Proses penguapan air menjadi uap',
                who: 'Air di permukaan bumi (laut, sungai, danau)',
                where: 'Di permukaan air terbuka',
                when: 'Ketika terkena panas matahari',
                why: 'Karena energi panas memecah ikatan molekul air',
                how: 'Molekul air menyerap energi panas dan berubah menjadi uap'
            },
            'presipitasi': {
                meaning: 'Proses turunnya air dari atmosfer ke permukaan bumi dalam bentuk hujan, salju, atau hujan es',
                what: 'Proses turunnya air dari langit',
                who: 'Tetes air atau kristal es di awan',
                where: 'Dari awan ke permukaan bumi',
                when: 'Ketika tetes air di awan menjadi terlalu berat',
                why: 'Karena gravitasi menarik tetes air ke bawah',
                how: 'Tetes air bergabung hingga cukup berat untuk jatuh'
            },
            'siklus': {
                meaning: 'Rangkaian proses yang berulang secara terus-menerus',
                what: 'Perputaran atau pengulangan proses',
                who: 'Air dalam berbagai bentuknya',
                where: 'Antara bumi dan atmosfer',
                when: 'Berlangsung terus-menerus sepanjang waktu',
                why: 'Karena adanya energi matahari dan gravitasi',
                how: 'Melalui evaporasi, kondensasi, dan presipitasi'
            }
        };

        function showTab(tabName) {
            // Hide all tabs and content
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // Show selected tab and content
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
            
            updateProgress();
        }

        function selectWord(element, word) {
            if (element.classList.contains('used')) return;
            
            selectedPuzzleWord = word;
            
            // Highlight selected word
            document.querySelectorAll('.word-option').forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            
            // Enable puzzle items
            document.querySelectorAll('.puzzle-item').forEach(item => {
                item.style.cursor = 'pointer';
                item.addEventListener('click', function() {
                    if (this.classList.contains('filled')) return;
                    
                    if (this.dataset.answer === selectedPuzzleWord) {
                        this.textContent = this.textContent + ' ' + selectedPuzzleWord.toUpperCase();
                        this.classList.add('filled');
                        element.classList.add('used');
                        selectedPuzzleWord = null;
                        checkPuzzleComplete();
                    } else {
                        this.style.animation = 'shake 0.5s';
                        setTimeout(() => this.style.animation = '', 500);
                    }
                });
            });
        }

        function checkPuzzleComplete() {
            const filledItems = document.querySelectorAll('.puzzle-item.filled').length;
            const totalItems = document.querySelectorAll('.puzzle-item').length;
            
            if (filledItems === totalItems) {
                puzzleScore = 100;
                document.getElementById('puzzleScore').style.display = 'block';
                document.getElementById('puzzlePoints').textContent = puzzleScore;
                completedActivities++;
                updateProgress();
                
                setTimeout(() => {
                    alert('ğŸ‰ Selamat! Anda telah menyelesaikan puzzle kata!');
                }, 500);
            }
        }

        function selectImage(element, isCorrect) {
            // Remove previous selections
            document.querySelectorAll('.image-option').forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            
            if (isCorrect) {
                element.style.borderColor = '#4CAF50';
                element.style.background = '#E8F5E8';
                guessScore += 25;
            } else {
                element.style.borderColor = '#F44336';
                element.style.background = '#FFEBEE';
            }
            
            document.getElementById('nextBtn').style.display = 'inline-block';
        }

        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                document.getElementById('guessScore').style.display = 'block';
                document.getElementById('guessPoints').textContent = guessScore;
                document.getElementById('nextBtn').style.display = 'none';
                completedActivities++;
                updateProgress();
                
                setTimeout(() => {
                    alert('ğŸ‰ Selamat! Anda telah menyelesaikan semua pertanyaan tebak arti!');
                }, 500);
            }
        }

        function loadQuestion() {
            const question = questions[currentQuestionIndex];
            document.getElementById('currentWord').textContent = question.word;
            
            const optionsContainer = document.getElementById('imageOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach(option => {
                const div = document.createElement('div');
                div.className = 'image-option';
                div.onclick = () => selectImage(div, option.correct);
                div.innerHTML = `
                    <div class="emoji">${option.emoji}</div>
                    <p>${option.text}</p>
                `;
                optionsContainer.appendChild(div);
            });
            
            document.getElementById('nextBtn').style.display = 'none';
        }

        function searchDictionary() {
            const word = document.getElementById('dictionaryInput').value.toLowerCase();
            const result = dictionaryData[word];
            
            if (result) {
                document.getElementById('dictionaryResult').style.display = 'block';
                document.getElementById('searchedWord').textContent = word.toUpperCase();
                document.getElementById('wordMeaning').textContent = result.meaning;
                
                document.getElementById('whatAnswer').textContent = result.what;
                document.getElementById('whoAnswer').textContent = result.who;
                document.getElementById('whereAnswer').textContent = result.where;
                document.getElementById('whenAnswer').textContent = result.when;
                document.getElementById('whyAnswer').textContent = result.why;
                document.getElementById('howAnswer').textContent = result.how;
                
                completedActivities++;
                updateProgress();
            } else {
                alert('Kata tidak ditemukan. Coba kata: kondensasi, evaporasi, presipitasi, atau siklus');
            }
        }

        function checkSentence() {
            const sentence = document.getElementById('sentenceText').value;
            const requiredWords = ['kondensasi', 'evaporasi', 'presipitasi', 'siklus'];
            let usedWords = [];
            
            requiredWords.forEach(word => {
                if (sentence.toLowerCase().includes(word)) {
                    usedWords.push(word);
                }
            });
            
            const resultDiv = document.getElementById('sentenceResult');
            
            if (usedWords.length >= 2 && sentence.length >= 20) {
                resultDiv.innerHTML = `
                    <div style="background: #E8F5E8; padding: 15px; border-radius: 10px; border-left: 5px solid #4CAF50;">
                        <h4>âœ… Kalimat Bagus!</h4>
                        <p>Anda telah menggunakan kata: <strong>${usedWords.join(', ')}</strong></p>
                        <p>Jumlah kata yang digunakan: ${usedWords.length}/4</p>
                    </div>
                `;
                document.getElementById('saveBtn').style.display = 'inline-block';
            } else {
                resultDiv.innerHTML = `
                    <div style="background: #FFEBEE; padding: 15px; border-radius: 10px; border-left: 5px solid #F44336;">
                        <h4>âš ï¸ Kalimat Perlu Diperbaiki</h4>
                        <p>Gunakan minimal 2 kata dari daftar dan buat kalimat minimal 20 karakter.</p>
                        <p>Kata yang sudah digunakan: ${usedWords.join(', ') || 'Belum ada'}</p>
                    </div>
                `;
            }
        }

        function saveSentence() {
            const sentence = document.getElementById('sentenceText').value;
            userSentences.push(sentence);
            
            alert('âœ… Kalimat berhasil disimpan! Total kalimat: ' + userSentences.length);
            completedActivities++;
            updateProgress();
            
            // Clear textarea for next sentence
            document.getElementById('sentenceText').value = '';
            document.getElementById('sentenceResult').innerHTML = '';
            document.getElementById('saveBtn').style.display = 'none';
        }

        function showPresentationMode(mode) {
            const contentDiv = document.getElementById('presentationContent');
            
            switch(mode) {
                case 'written':
                    contentDiv.innerHTML = `
                        <div style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                            <h3>ğŸ“ Mode Presentasi Tulisan</h3>
                            <p>Buatlah laporan tertulis tentang siklus air berdasarkan cerita Dito:</p>
                            <textarea style="width: 100%; min-height: 200px; padding: 15px; border: 2px solid #E0E0E0; border-radius: 10px; margin: 15px 0;" 
                                placeholder="Tulis laporan Anda di sini...&#10;&#10;Saran struktur:&#10;1. Pendahuluan - Apa itu siklus air?&#10;2. Proses Evaporasi&#10;3. Proses Kondensasi&#10;4. Proses Presipitasi&#10;5. Pentingnya Menjaga Lingkungan&#10;6. Kesimpulan"></textarea>
                            <button class="btn" onclick="saveWrittenReport()">ğŸ’¾ Simpan Laporan</button>
                        </div>
                    `;
                    break;
                
                case 'oral':
                    contentDiv.innerHTML = `
                        <div style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                            <h3>ğŸ™ï¸ Mode Presentasi Lisan</h3>
                            <p>Siapkan presentasi lisan Anda dengan panduan berikut:</p>
                            <div style="background: #F5F5F5; padding: 15px; border-radius: 10px; margin: 15px 0;">
                                <h4>ğŸ“‹ Panduan Presentasi (3-5 menit):</h4>
                                <ul>
                                    <li>ğŸ¬ <strong>Pembukaan:</strong> "Selamat pagi/siang, hari ini saya akan menceritakan tentang petualangan Dito dan siklus air..."</li>
                                    <li>ğŸ”„ <strong>Isi:</strong> Jelaskan 3 proses utama (evaporasi, kondensasi, presipitasi)</li>
                                    <li>ğŸŒ <strong>Pesan:</strong> Pentingnya menjaga lingkungan untuk siklus air yang sehat</li>
                                    <li>ğŸ¯ <strong>Penutup:</strong> Kesimpulan dan ajakan untuk peduli lingkungan</li>
                                </ul>
                            </div>
                            <button class="btn" onclick="startRecording()">ğŸ¤ Mulai Latihan</button>
                            <button class="btn" onclick="showTips()">ğŸ’¡ Tips Presentasi</button>
                        </div>
                    `;
                    break;
                
                case 'visual':
                    contentDiv.innerHTML = `
                        <div style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                            <h3>ğŸ¨ Mode Presentasi Visual</h3>
                            <p>Buat poster atau infografik tentang siklus air:</p>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0;">
                                <div style="background: #E3F2FD; padding: 15px; border-radius: 10px;">
                                    <h4>ğŸ¯ Elemen yang Harus Ada:</h4>
                                    <ul>
                                        <li>Judul menarik</li>
                                        <li>Gambar/diagram siklus air</li>
                                        <li>Penjelasan 3 proses utama</li>
                                        <li>Pesan pelestarian lingkungan</li>
                                        <li>Warna-warna menarik</li>
                                    </ul>
                                </div>
                                <div style="background: #FFF3E0; padding: 15px; border-radius: 10px;">
                                    <h4>ğŸ› ï¸ Tools yang Bisa Digunakan:</h4>
                                    <ul>
                                        <li>Kertas gambar & pensil warna</li>
                                        <li>Canva (online)</li>
                                        <li>PowerPoint</li>
                                        <li>Paint/aplikasi gambar</li>
                                        <li>Kolase dari majalah</li>
                                    </ul>
                                </div>
                            </div>
                            <button class="btn" onclick="showPosterTemplate()">ğŸ“„ Lihat Template</button>
                            <button class="btn" onclick="markVisualComplete()">âœ… Selesai Membuat</button>
                        </div>
                    `;
                    break;
                
                case 'digital':
                    contentDiv.innerHTML = `
                        <div style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                            <h3>ğŸ’» Mode Presentasi Digital</h3>
                            <p>Buat presentasi menggunakan aplikasi digital:</p>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
                                <div style="background: #E8F5E8; padding: 15px; border-radius: 10px; text-align: center;">
                                    <div style="font-size: 2em; margin-bottom: 10px;">ğŸ“Š</div>
                                    <h4>PowerPoint</h4>
                                    <p>Slide presentasi klasik dengan animasi</p>
                                </div>
                                <div style="background: #FFF3E0; padding: 15px; border-radius: 10px; text-align: center;">
                                    <div style="font-size: 2em; margin-bottom: 10px;">ğŸ¬</div>
                                    <h4>Video</h4>
                                    <p>Buat video animasi sederhana</p>
                                </div>
                                <div style="background: #F3E5F5; padding: 15px; border-radius: 10px; text-align: center;">
                                    <div style="font-size: 2em; margin-bottom: 10px;">ğŸŒ</div>
                                    <h4>Web/Blog</h4>
                                    <p>Tulis artikel di blog atau website</p>
                                </div>
                                <div style="background: #E1F5FE; padding: 15px; border-radius: 10px; text-align: center;">
                                    <div style="font-size: 2em; margin-bottom: 10px;">ğŸ“±</div>
                                    <h4>App Presentasi</h4>
                                    <p>Prezi, Genially, atau Nearpod</p>
                                </div>
                            </div>
                            <div style="background: #F5F5F5; padding: 15px; border-radius: 10px; margin: 15px 0;">
                                <h4>ğŸ’¡ Template Slide (6-8 slide):</h4>
                                <ol>
                                    <li>Judul & Pengenalan Dito</li>
                                    <li>Apa itu Siklus Air?</li>
                                    <li>Evaporasi - Air Menguap</li>
                                    <li>Kondensasi - Pembentukan Awan</li>
                                    <li>Presipitasi - Hujan Turun</li>
                                    <li>Masalah Pencemaran</li>
                                    <li>Solusi & Ajakan</li>
                                    <li>Kesimpulan & Terima Kasih</li>
                                </ol>
                            </div>
                            <button class="btn" onclick="downloadTemplate()">â¬‡ï¸ Download Template</button>
                            <button class="btn" onclick="markDigitalComplete()">âœ… Selesai Membuat</button>
                        </div>
                    `;
                    break;
            }
        }

        function updateProgress() {
            const totalActivities = 5; // story, puzzle, guess, dictionary, sentence
            const progress = (completedActivities / totalActivities) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            if (completedActivities === totalActivities) {
                setTimeout(() => {
                    alert('ğŸ‰ğŸ‰ğŸ‰ SELAMAT! Anda telah menyelesaikan semua aktivitas pembelajaran! ğŸ‰ğŸ‰ğŸ‰');
                }, 1000);
            }
        }

        // Additional functions for presentation modes
        function saveWrittenReport() {
            alert('ğŸ“ Laporan berhasil disimpan! Jangan lupa untuk mempresentasikannya.');
            completedActivities++;
            updateProgress();
        }

        function startRecording() {
            alert('ğŸ¤ Mulai berlatih presentasi Anda! Ingat: berbicara dengan jelas dan penuh percaya diri.');
        }

        function showTips() {
            alert('ğŸ’¡ Tips Presentasi:\n\n1. Berlatih di depan cermin\n2. Berbicara dengan suara jelas\n3. Gunakan gerakan tangan\n4. Tatap mata pendengar\n5. Tersenyum dan percaya diri\n6. Siapkan catatan kecil jika perlu');
        }

        function showPosterTemplate() {
            alert('ğŸ“„ Template Poster:\n\nBagian Atas: Judul besar "SIKLUS AIR"\nTengah: Gambar diagram siklus (matahari â†’ evaporasi â†’ awan â†’ hujan)\nBawah: Pesan "Jaga Lingkungan, Jaga Siklus Air!"\n\nGunakan warna biru untuk air, kuning untuk matahari, putih untuk awan.');
        }

        function markVisualComplete() {
            alert('ğŸ¨ Poster/infografik selesai! Siap untuk dipresentasikan.');
            completedActivities++;
            updateProgress();
        }

        function downloadTemplate() {
            alert('â¬‡ï¸ Template presentasi siap digunakan! Sesuaikan dengan kreativitas Anda.');
        }

        function markDigitalComplete() {
            alert('ğŸ’» Presentasi digital selesai! Siap untuk dipresentasikan.');
            completedActivities++;
            updateProgress();
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            loadQuestion();
            
            // Add CSS for shake animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes shake {
                    0%, 100% { transform: translateX(0); }
                    25% { transform: translateX(-5px); }
                    75% { transform: translateX(5px); }
                }
                .word-option.selected {
                    background: #4CAF50 !important;
                    color: white !important;
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>