<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Petualangan Tetes Air di Langit Biru</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #87CEEB 0%, #E0F6FF 50%, #87CEEB 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .title {
            text-align: center;
            font-size: 2.5em;
            color: #2C5AA0;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            from { text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
            to { text-shadow: 2px 2px 15px rgba(44,90,160,0.3); }
        }

        .story-content {
            font-size: 1.2em;
            color: #333;
            text-align: justify;
            margin-bottom: 30px;
        }

        .paragraph {
            margin-bottom: 25px;
            padding: 15px;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
        }

        .paragraph:hover {
            background: rgba(135, 206, 235, 0.1);
            border-left-color: #87CEEB;
            transform: translateX(10px);
        }

        /* Highlight Styles untuk Kata Kunci */
        .highlight-character {
            background: linear-gradient(45deg, #FFB6C1, #FFC0CB);
            color: #8B0000;
            padding: 2px 6px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .highlight-character:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(255,182,193,0.5);
        }

        .highlight-science {
            background: linear-gradient(45deg, #98FB98, #90EE90);
            color: #006400;
            padding: 2px 6px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .highlight-science:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(152,251,152,0.5);
            animation: sciencePulse 0.5s ease-in-out;
        }

        @keyframes sciencePulse {
            0%, 100% { background: linear-gradient(45deg, #98FB98, #90EE90); }
            50% { background: linear-gradient(45deg, #00FF7F, #32CD32); }
        }

        .highlight-water-cycle {
            background: linear-gradient(45deg, #87CEEB, #4169E1);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .highlight-water-cycle::before {
            content: 'ðŸ’§';
            position: absolute;
            left: -20px;
            top: 50%;
            transform: translateY(-50%);
            transition: all 0.3s ease;
            opacity: 0;
        }

        .highlight-water-cycle:hover {
            padding-left: 25px;
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(65,105,225,0.4);
        }

        .highlight-water-cycle:hover::before {
            left: 5px;
            opacity: 1;
        }

        .highlight-process {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #8B4513;
            padding: 2px 6px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .highlight-process:hover {
            transform: scale(1.1) rotate(2deg);
            box-shadow: 0 4px 15px rgba(255,215,0,0.5);
            animation: processShine 0.6s ease-in-out;
        }

        @keyframes processShine {
            0% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
            100% { filter: brightness(1); }
        }

        .highlight-environment {
            background: linear-gradient(45deg, #FF6B6B, #FF8E8E);
            color: white;
            padding: 2px 6px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .highlight-environment:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(255,107,107,0.5);
            animation: environmentAlert 0.5s ease-in-out;
        }

        @keyframes environmentAlert {
            0%, 100% { background: linear-gradient(45deg, #FF6B6B, #FF8E8E); }
            50% { background: linear-gradient(45deg, #FF4444, #FF6666); }
        }

        .highlight-solution {
            background: linear-gradient(45deg, #32CD32, #00FF32);
            color: #006400;
            padding: 3px 8px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .highlight-solution:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(50,205,50,0.5);
            animation: solutionGlow 0.8s ease-in-out;
        }

        @keyframes solutionGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.4) drop-shadow(0 0 10px #32CD32); }
        }

        .tooltip {
            position: absolute;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9em;
            pointer-events: none;
            z-index: 1000;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            max-width: 200px;
            text-align: center;
        }

        .tooltip.show {
            opacity: 1;
            transform: translateY(-5px);
        }

        .legend {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            border: 2px solid #87CEEB;
        }

        .legend h3 {
            color: #2C5AA0;
            margin-bottom: 15px;
            text-align: center;
        }

        .legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9em;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .stats-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            min-width: 200px;
        }

        .stats-panel h4 {
            color: #2C5AA0;
            margin-bottom: 10px;
            text-align: center;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            font-size: 0.9em;
        }

        .click-effect {
            position: fixed;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
            pointer-events: none;
            z-index: 9999;
            animation: clickRipple 0.6s ease-out forwards;
        }

        @keyframes clickRipple {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(3);
                opacity: 0;
            }
        }

        .voice-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
        }

        .voice-controls h4 {
            color: #2C5AA0;
            margin: 0;
            font-size: 0.9em;
            text-align: center;
        }

        .voice-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.8em;
            transition: all 0.3s ease;
            color: white;
        }

        .voice-btn.speak {
            background: linear-gradient(45deg, #4CAF50, #45a049);
        }

        .voice-btn.stop {
            background: linear-gradient(45deg, #f44336, #da190b);
        }

        .voice-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .voice-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            .title {
                font-size: 1.8em;
            }
            .story-content {
                font-size: 1.1em;
            }
            .stats-panel {
                position: static;
                margin-top: 20px;
            }
            .voice-controls {
                position: static;
                margin-top: 20px;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">ðŸŒŠ Petualangan Tetes Air di Langit Biru ðŸŒŠ</h1>
        
        <div class="story-content">
            <div class="paragraph">
                Di sebuah kota yang ramai, hiduplah seorang anak laki-laki bernama <span class="highlight-character" data-info="Tokoh utama - anak yang ingin tahu">Dito</span>. Ia sangat suka membaca dan bertanya tentang banyak hal. Suatu hari, <span class="highlight-character" data-info="Pengajar ilmu pengetahuan">guru sainsnya</span> menjelaskan tentang <span class="highlight-water-cycle" data-info="Proses perputaran air di alam">siklus air</span>. <span class="highlight-character" data-info="Tokoh utama cerita">Dito</span> bingung. Bagaimana air bisa naik ke langit, lalu kembali lagi ke bumi sebagai <span class="highlight-water-cycle" data-info="Air yang jatuh dari langit">hujan</span>?
            </div>

            <div class="paragraph">
                "Aku ingin melihat sendiri!" gumam <span class="highlight-character" data-info="Tokoh utama yang penasaran">Dito</span>. Malam harinya, ia bermimpi. Ia merasa tubuhnya mengecil dan berubah menjadi <span class="highlight-water-cycle" data-info="Unit terkecil air">setetes air</span> di sebuah <span class="highlight-environment" data-info="Sumber air alami">danau</span>. Di sampingnya, ada ribuan <span class="highlight-water-cycle" data-info="Kumpulan molekul air">tetes air</span> lain yang juga sedang berpetualang.
            </div>

            <div class="paragraph">
                <span class="highlight-environment" data-info="Sumber energi utama siklus air">Matahari</span> mulai bersinar. Panasnya terasa hangat. <span class="highlight-character" data-info="Tokoh utama dalam bentuk tetes air">Dito</span> merasakan tubuhnya semakin ringan dan melayang ke atas. "Wah, kita <span class="highlight-process" data-info="Proses perubahan air menjadi uap">menguap</span>!" seru <span class="highlight-character" data-info="Tokoh utama">Dito</span>. Ia melihat <span class="highlight-water-cycle" data-info="Molekul-molekul air">tetes air</span> di sekitarnya juga ikut naik. Mereka bergerak semakin tinggi, melewati gedung-gedung dan pepohonan.
            </div>

            <div class="paragraph">
                Saat di atas, udara menjadi sangat dingin. <span class="highlight-character" data-info="Tokoh utama">Dito</span> dan <span class="highlight-water-cycle" data-info="Partikel air di udara">tetes air</span> lainnya mulai berkumpul. Mereka saling menempel, membentuk gumpalan-gumpalan putih yang lembut. "Ini namanya <span class="highlight-process" data-info="Proses pengembunan uap air">kondensasi</span>!" <span class="highlight-character" data-info="Tokoh utama">Dito</span> teringat pelajaran <span class="highlight-character" data-info="Pengajar">gurunya</span>. Gumpalan-gumpalan itu semakin banyak dan berubah menjadi <span class="highlight-water-cycle" data-info="Kumpulan tetes air di langit">awan</span> yang besar.
            </div>

            <div class="paragraph">
                <span class="highlight-water-cycle" data-info="Massa air di atmosfer">Awan</span> itu terus melayang, mengikuti <span class="highlight-environment" data-info="Pergerakan udara">angin</span>. Lalu, <span class="highlight-character" data-info="Tokoh utama">Dito</span> merasa tubuhnya semakin berat. Ia tidak bisa lagi menahan diri. "Kita akan jatuh!" pikir <span class="highlight-character" data-info="Tokoh utama">Dito</span>. Benar saja, ia dan teman-teman <span class="highlight-water-cycle" data-info="Molekul air">tetes airnya</span> jatuh ke bawah. "Ini <span class="highlight-process" data-info="Proses jatuhnya air dari awan">presipitasi</span> atau <span class="highlight-water-cycle" data-info="Air yang turun dari langit">hujan</span>!" <span class="highlight-character" data-info="Tokoh utama">Dito</span> berteriak senang. Ia jatuh di sebuah taman, lalu mengalir ke <span class="highlight-environment" data-info="Aliran air alami">sungai</span>.
            </div>

            <div class="paragraph">
                Di dalam <span class="highlight-environment" data-info="Aliran air yang tercemar">sungai</span>, <span class="highlight-character" data-info="Tokoh utama">Dito</span> melihat pemandangan yang menyedihkan. <span class="highlight-environment" data-info="Air yang terkontaminasi">Air sungai kotor</span> dan banyak <span class="highlight-environment" data-info="Limbah yang mencemari">sampah plastik</span> yang mengapung. Ia melihat sampah-sampah itu menyumbat aliran air, membuat <span class="highlight-environment" data-info="Air yang meluber">air sungai meluap</span> di beberapa tempat. <span class="highlight-character" data-info="Tokoh utama">Dito</span> berpikir kritis. Jika <span class="highlight-environment" data-info="Air yang tercemar">sungai kotor dan tersumbat</span>, apa yang akan terjadi pada <span class="highlight-water-cycle" data-info="Proses perputaran air">siklus air</span> berikutnya? Air yang <span class="highlight-process" data-info="Proses penguapan">menguap</span> akan kotor dan udara bisa jadi tidak sehat.
            </div>

            <div class="paragraph">
                <span class="highlight-character" data-info="Tokoh utama">Dito</span> terbangun. Ia menatap <span class="highlight-water-cycle" data-info="Air hujan di kaca">tetesan air hujan</span> di jendela kamarnya. Ia kini mengerti. <span class="highlight-water-cycle" data-info="Perputaran air di alam">Siklus air</span> adalah perjalanan yang luar biasa, tetapi juga rentan. Setiap <span class="highlight-water-cycle" data-info="Unit air">tetes air</span> yang jatuh ke bumi akan kembali <span class="highlight-process" data-info="Proses penguapan">menguap</span>. Jika kita membuang <span class="highlight-environment" data-info="Limbah yang mencemari">sampah sembarangan</span> dan membuat <span class="highlight-environment" data-info="Air yang tercemar">sungai kotor</span>, kita merusak seluruh siklus.
            </div>

            <div class="paragraph">
                <span class="highlight-character" data-info="Tokoh utama">Dito</span> lalu mengambil sebuah kantong plastik besar. Ia mengajak teman-temannya untuk <span class="highlight-solution" data-info="Tindakan membersihkan lingkungan">membersihkan sampah</span> di taman dekat <span class="highlight-environment" data-info="Aliran air">sungai</span>. "<span class="highlight-water-cycle" data-info="Proses perputaran air">Siklus air</span> tidak akan berjalan baik jika kita tidak <span class="highlight-solution" data-info="Kepedulian terhadap alam">peduli lingkungan</span>," kata <span class="highlight-character" data-info="Tokoh utama">Dito</span>. "Kita harus <span class="highlight-solution" data-info="Menjaga kebersihan air">menjaga air tetap bersih</span> agar bumi kita tetap sehat."
            </div>
        </div>

        <div class="legend">
            <h3>ðŸŽ¨ Legenda Warna Kata Kunci</h3>
            <div class="legend-items">
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(45deg, #FFB6C1, #FFC0CB);"></div>
                    <span>Karakter (Tokoh Cerita)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(45deg, #98FB98, #90EE90);"></div>
                    <span>Ilmu Pengetahuan</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(45deg, #87CEEB, #4169E1);"></div>
                    <span>Siklus Air</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(45deg, #FFD700, #FFA500);"></div>
                    <span>Proses Ilmiah</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(45deg, #FF6B6B, #FF8E8E);"></div>
                    <span>Masalah Lingkungan</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(45deg, #32CD32, #00FF32);"></div>
                    <span>Solusi & Tindakan</span>
                </div>
            </div>
        </div>
    </div>

    <div class="stats-panel">
        <h4>ðŸ“Š Statistik Interaksi</h4>
        <div class="stat-item">
            <span>Kata Kunci Diklik:</span>
            <span id="clickCount">0</span>
        </div>
        <div class="stat-item">
            <span>Karakter:</span>
            <span id="characterCount">0</span>
        </div>
        <div class="stat-item">
            <span>Siklus Air:</span>
            <span id="waterCycleCount">0</span>
        </div>
        <div class="stat-item">
            <span>Proses Ilmiah:</span>
            <span id="processCount">0</span>
        </div>
    </div>

    <div class="voice-controls">
        <h4>ðŸ”Š Kontrol Suara</h4>
        <select id="voiceSelector" class="voice-selector">
            <option value="">Pilih Suara...</option>
        </select>
        <button class="voice-btn speak" onclick="readFullStory()">Baca Cerita</button>
        <button class="voice-btn stop" onclick="stopSpeech()">Stop</button>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // Voice management
        let selectedVoice = null;
        let isReading = false;

        // Load available voices
        // Ganti bagian loadVoices() di script kamu dengan yang di bawah ini:
function loadVoices() {
    const voices = speechSynthesis.getVoices();
    const voiceSelector = document.getElementById('voiceSelector');
    voiceSelector.innerHTML = '<option value="">Pilih Suara...</option>';

    // Cari suara Indonesia pria
    const maleVoices = voices.filter(voice =>
        voice.lang === 'id-ID' && (
            voice.name.toLowerCase().includes('pria') ||
            voice.name.toLowerCase().includes('male')
        )
    );
    const indoVoices = voices.filter(voice => voice.lang === 'id-ID');

    if (maleVoices.length > 0) {
        const group = document.createElement('optgroup');
        group.label = 'ðŸ‡®ðŸ‡© Indonesia (Pria)';
        maleVoices.forEach((voice, idx) => {
            const option = document.createElement('option');
            option.value = 'male_id_' + idx;
            option.textContent = `${voice.name} (${voice.lang})`;
            option.dataset.voice = JSON.stringify(voice);
            group.appendChild(option);
        });
        voiceSelector.appendChild(group);
        selectedVoice = maleVoices[0];
        voiceSelector.value = 'male_id_0';
    }

    if (indoVoices.length > 0) {
        const group = document.createElement('optgroup');
        group.label = 'ðŸ‡®ðŸ‡© Indonesia (Lainnya)';
        indoVoices.forEach((voice, idx) => {
            if (maleVoices.includes(voice)) return;
            const option = document.createElement('option');
            option.value = 'id_' + idx;
            option.textContent = `${voice.name} (${voice.lang})`;
            option.dataset.voice = JSON.stringify(voice);
            group.appendChild(option);
        });
        voiceSelector.appendChild(group);
    }
}

        // Voice selector change event
        document.getElementById('voiceSelector').addEventListener('change', function() {
            const selectedOption = this.options[this.selectedIndex];
            if (selectedOption.dataset.voice) {
                selectedVoice = JSON.parse(selectedOption.dataset.voice);
                console.log('Selected voice:', selectedVoice.name);
            }
        });

        // Create speech with Indonesian settings
        function createSpeech(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'id-ID';
            utterance.rate = 0.8;
            utterance.pitch = 1.1;
            utterance.volume = 0.9;
            
            if (selectedVoice) {
                utterance.voice = selectedVoice;
            }
            
            return utterance;
        }

        // Read full story function
        function readFullStory() {
            if (isReading) return;
            
            isReading = true;
            const storyText = document.querySelector('.story-content').textContent;
            const speech = createSpeech(storyText);
            
            speech.onend = () => {
                isReading = false;
            };
            
            speech.onerror = () => {
                isReading = false;
            };
            
            speechSynthesis.speak(speech);
        }

        // Stop speech function
        function stopSpeech() {
            speechSynthesis.cancel();
            isReading = false;
        }

        // Statistik interaksi
        let stats = {
            total: 0,
            character: 0,
            waterCycle: 0,
            process: 0,
            environment: 0,
            solution: 0,
            science: 0
        };

        // Tooltip functionality
        const tooltip = document.getElementById('tooltip');
        const highlightElements = document.querySelectorAll('[data-info]');

        highlightElements.forEach(element => {
            element.addEventListener('mouseenter', (e) => {
                const info = e.target.getAttribute('data-info');
                tooltip.textContent = info;
                tooltip.classList.add('show');
                
                const rect = e.target.getBoundingClientRect();
                tooltip.style.left = rect.left + (rect.width / 2) - (tooltip.offsetWidth / 2) + 'px';
                tooltip.style.top = rect.top - tooltip.offsetHeight - 10 + 'px';
            });

            element.addEventListener('mouseleave', () => {
                tooltip.classList.remove('show');
            });

            // Click functionality
            element.addEventListener('click', (e) => {
                // Update statistics
                stats.total++;
                const classes = e.target.className;
                
                if (classes.includes('highlight-character')) stats.character++;
                else if (classes.includes('highlight-water-cycle')) stats.waterCycle++;
                else if (classes.includes('highlight-process')) stats.process++;
                else if (classes.includes('highlight-environment')) stats.environment++;
                else if (classes.includes('highlight-solution')) stats.solution++;
                else if (classes.includes('highlight-science')) stats.science++;

                updateStatsDisplay();
                createClickEffect(e);
                
                // Speak the information with Indonesian voice
                if ('speechSynthesis' in window) {
                    const info = e.target.getAttribute('data-info');
                    const speech = createSpeech(info);
                    speechSynthesis.speak(speech);
                }
            });
        });

        function updateStatsDisplay() {
            document.getElementById('clickCount').textContent = stats.total;
            document.getElementById('characterCount').textContent = stats.character;
            document.getElementById('waterCycleCount').textContent = stats.waterCycle;
            document.getElementById('processCount').textContent = stats.process;
        }

        function createClickEffect(e) {
            const effect = document.createElement('div');
            effect.className = 'click-effect';
            effect.style.left = e.pageX - 15 + 'px';
            effect.style.top = e.pageY - 15 + 'px';
            
            // Random color based on category
            const colors = [
                'rgba(255, 182, 193, 0.8)',
                'rgba(135, 206, 235, 0.8)',
                'rgba(255, 215, 0, 0.8)',
                'rgba(152, 251, 152, 0.8)',
                'rgba(255, 107, 107, 0.8)',
                'rgba(50, 205, 50, 0.8)'
            ];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            effect.style.background = `radial-gradient(circle, ${randomColor} 0%, transparent 70%)`;
            
            document.body.appendChild(effect);
            
            setTimeout(() => {
                effect.remove();
            }, 600);
        }

        // Add floating animation to some elements
        function addFloatingAnimation() {
            const waterCycleElements = document.querySelectorAll('.highlight-water-cycle');
            waterCycleElements.forEach((element, index) => {
                element.style.animation = `float 3s ease-in-out infinite`;
                element.style.animationDelay = `${index * 0.2}s`;
            });
        }

        // CSS animation keyframes for floating
        const floatingKeyframes = `
            @keyframes float {
                0%, 100% { transform: translateY(0px); }
                50% { transform: translateY(-3px); }
            }
        `;

        const style = document.createElement('style');
        style.textContent = floatingKeyframes;
        document.head.appendChild(style);

        // Initialize everything
        window.addEventListener('load', () => {
            addFloatingAnimation();
            
            // Load voices when ready
            if ('speechSynthesis' in window) {
                speechSynthesis.addEventListener('voiceschanged', loadVoices);
                
                // Try to load voices immediately if they're already available
                setTimeout(loadVoices, 100);
                
                // Welcome message in Indonesian
                setTimeout(() => {
                    const welcome = createSpeech('Selamat datang di Petualangan Tetes Air! Klik pada kata-kata berwarna untuk mempelajari lebih lanjut tentang siklus air. Anda juga bisa memilih suara Indonesia di panel kontrol suara.');
                    speechSynthesis.speak(welcome);
                }, 2000);
            }
        });

        // Responsive adjustments
        function handleResize() {
            if (window.innerWidth <= 768) {
                document.querySelectorAll('.paragraph').forEach(p => {
                    p.style.fontSize = '1em';
                });
            }
        }

        window.addEventListener('resize', handleResize);
        handleResize();
    </script>
</body>
</html>